{% extends "admin/layouts/admin.html.twig" %}
{% block sidebar %}

    <div class="app-brand demo">
        <a href="{{ path('app_dashboard') }}" class="app-brand-link">
            <span class="app-brand-logo demo">
                <i class="bx bx-car fs-3 text-primary"></i>
            </span>
            <span class="app-brand-text demo menu-text fw-bolder ms-2">Movable Admin</span>
        </a>

        <a href="javascript:void(0);" class="layout-menu-toggle menu-link text-large ms-auto d-block d-xl-none">
            <i class="bx bx-chevron-left bx-sm align-middle"></i>
        </a>
    </div>

    <div class="menu-inner-shadow"></div>

    <ul class="menu-inner py-1">
        <!-- Dashboard -->
        <li class="menu-item {{ app.request.get('_route') == 'app_dashboard' ? 'active' : '' }}">
            <a href="{{ path('app_dashboard') }}" class="menu-link">
                <i class="menu-icon tf-icons bx bx-home-circle"></i>
                <div>Dashboard</div>
            </a>
        </li>

        <li class="menu-item">
            <a href="{{ path('app_front_home') }}" class="menu-link front-website-link">
                <i class="menu-icon tf-icons bx bx-world"></i>
                <div>Visit Website</div>
            </a>
        </li>
        
        <li class="menu-item {{ app.request.get('_route') == 'app_admin_users' ? 'active' : '' }}">
            <a href="{{ path('app_admin_users') }}" class="menu-link">
                <i class="menu-icon tf-icons bx bx-user-circle"></i>
                <div>Users</div>
            </a>
        </li>

        <!-- Claims Management -->
        <li class="menu-item {{ app.request.get('_route') == 'app_reclamation_dashboard' ? 'active' : '' }}">
            <a href="{{ path('app_reclamation_dashboard') }}" class="menu-link">
                <i class="menu-icon tf-icons bx bx-message-square-detail"></i>
                <div>Claims</div>
            </a>
        </li>

        <!-- Banned Users -->
        <li class="menu-item {{ app.request.get('_route') == 'app_admin_banned_users' ? 'active' : '' }}">
            <a href="{{ path('app_admin_banned_users') }}" class="menu-link">
                <i class="menu-icon tf-icons bx bx-block"></i>
                <div>Banned Users</div>
            </a>
        </li>

            <!-- Agents Management -->
<li class="menu-item {{ app.request.get('_route') starts with 'agent_list_admin' ? 'active' : '' }}">
    <a href="{{ path('agent_list_admin') }}" class="menu-link">
        <i class="menu-icon tf-icons bx bx-user"></i>
        <div>Agents</div>
    </a>
</li>
            <!-- Offices Management -->
<li class="menu-item {{ app.request.get('_route') starts with 'office_list_admin' ? 'active' : '' }}">
    <a href="{{ path('office_list_admin') }}" class="menu-link">
        <i class="menu-icon tf-icons bx bx-user"></i>
        <div>Offices</div>
    </a>
</li>

<!-- Destination Management -->
<li class="menu-item {{ app.request.get('_route') starts with 'Destinations_page' ? 'active' : '' }}">
    <a href="{{ path('Destinations_page') }}" class="menu-link">
        <i class="menu-icon tf-icons bx bx-user"></i>
        <div>Destination</div>
    </a>
</li>
            <!-- Parkingspot Management -->
<li class="menu-item {{ app.request.get('_route') starts with 'Parking spot page' ? 'active' : '' }}">
    <a href="{{ path('app_parkingspot_index') }}" class="menu-link">
        <i class="menu-icon tf-icons bx bx-user"></i>
        <div>Parking spot </div>
    </a>
</li>
<!-- Transport Management -->

<li class="menu-item {{ app.request.get('_route') starts with 'Parking spot page' ? 'active' : '' }}">
    <a href="{{ path('admin_transport_index') }}" class="menu-link">
        <i class="menu-icon tf-icons bx bx-user"></i>
        <div>Transport </div>
    </a>
</li>
<!-- Transport Stats -->
    <li class="menu-item {% if app.request.get('_route') == 'admin_transport_stat' %}active{% endif %}">
        <a href="{{ path('admin_transport_stat') }}" class="menu-link">
            <i class="menu-icon tf-icons bx bx-bar-chart"></i>
            <div>Transport Stats</div>
        </a>
    </li>
<!-- Driver Management -->
<li class="menu-item {{ app.request.get('_route') starts with 'Parking spot page' ? 'active' : '' }}">
    <a href="{{ path('admin_driver_index') }}" class="menu-link">
        <i class="menu-icon tf-icons bx bx-user"></i>
        <div>Driver </div>
    </a>
</li>
    


        <!-- Events Management -->
        <li class="menu-item {{ app.request.get('_route') starts with 'app_event' ? 'active' : '' }}">
            <a href="{{ path('app_eventback_index') }}" class="menu-link">
                <i class="menu-icon tf-icons bx bx-calendar"></i>
                <div>Events</div>
            </a>
        </li>
         

        <!-- Reservation Management -->
        <li class="menu-item {{ app.request.get('_route') starts with 'admin_waitlist_' ? 'active' : '' }}">
            <a href="{{ path('admin_waitlist_index') }}" class="menu-link">
                <i class="menu-icon tf-icons bx bx-calendar-check"></i>
                <div>Reservations</div>
            </a>
        </li>

        <li class="menu-header small text-uppercase">
            <span class="menu-header-text">System</span>
        </li>
    </ul>

   

    <!-- Transport Stats -->
    <li class="menu-item {% if app.request.get('_route') == 'admin_transport_stat' %}active{% endif %}">
        <a href="{{ path('admin_transport_stat') }}" class="menu-link">
            <i class="menu-icon tf-icons bx bx-bar-chart"></i>
            <div>Transport Stats</div>
        </a>
    </li>

{% endblock %}

{% block body %}
  <div class="container">
    <a href="{{ path('admin_driver_new') }}" class="btn btn-success">+ Add a Driver</a>
    <div class="row">
      <div class="col-lg-6 col-md-12 table-container">
        <h2>Available Drivers</h2>
       <table class="table table-bordered">
  <thead>
    <tr>
      <th>Name</th>
      <th>Licence Number</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for driver in drivers %}
      <tr>
        <td>{{ driver.name }}</td>
        <td>{{ driver.licenceNumber }}</td>
        <td>
          <a href="{{ path('admin_driver_edit', { id: driver.id }) }}" class="btn btn-warning">Edit</a>

          <!-- Inline POST form for Delete -->
          <form method="post" action="{{ path('admin_driver_delete', { id: driver.id }) }}" style="display:inline" onsubmit="return confirm('Really delete driver “{{ driver.name }}”?');">
            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ driver.id) }}">
            <button type="submit" class="btn btn-danger btn-sm">Delete</button>
          </form>
        </td>
      </tr>
    {% else %}
      <tr>
        <td colspan="3">No driver entries found.</td>
      </tr>
    {% endfor %}
  </tbody>
</table>

      </div>
    </div>
  </div>

  <div class="text-center mt-4">
    <a href="{{ path('admin_transport_index') }}" class="btn btn-info">
      Show Transports List
    </a>
  </div>

 {% block javascripts %}
    {{ parent() }}

    {# Load jQuery and DataTables #}
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

    {# Initialize DataTables #}
      {# Initialize the DataTable #}
    <script>
        $(document).ready(function () {
            $('table').DataTable();
        });
    </script>
{% endblock %}


  <link href="{{ asset('css/css_halimaa.css') }}" rel="stylesheet">
{% endblock %}
