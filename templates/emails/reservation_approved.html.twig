{% extends 'emails/base_email.html.twig' %}

{% block content %}
<table width="100%" cellpadding="0" cellspacing="0" style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
    <!-- Header -->
    <tr>
        <td style="background-color: #4a6fdc; padding: 20px; text-align: center;">
            <h1 style="color: #ffffff; margin: 0;">Reservation Approved!</h1>
        </td>
    </tr>
    
    <!-- Greeting -->
    <tr>
        <td style="padding: 30px 20px 10px 20px;">
            <p style="font-size: 16px; line-height: 1.5;">Dear {{ user.firstName }} {{ user.lastName }},</p>
            <p style="font-size: 16px; line-height: 1.5;">We're pleased to inform you that your reservation has been approved on {{ dateAccepted|date('F j, Y') }}.</p>
        </td>
    </tr>
    
    <!-- Ticket Details -->
    <tr>
        <td style="padding: 0 20px;">
            <div style="background: #ffffff; border: 1px solid #e0e0e0; border-radius: 8px; padding: 20px; margin: 20px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                <h2 style="color: #4a6fdc; margin-top: 0; border-bottom: 1px solid #eeeeee; padding-bottom: 10px;">Your Ticket Details</h2>
                
                <table width="100%" cellpadding="5" cellspacing="0">
                    <tr>
                        <td width="30%" style="font-weight: bold; color: #555555;">Ticket #</td>
                        <td>{{ ticket.ticketNumber }}</td>
                    </tr>
                    <tr>
                        <td style="font-weight: bold; color: #555555;">Destination</td>
                        <td>{{ reservation.destination ? reservation.destination.name : reservation.location }}</td>
                    </tr>
                    <tr>
                        <td style="font-weight: bold; color: #555555;">Date & Time</td>
                        <td>{{ reservation.date|date('F j, Y H:i') }}</td>
                    </tr>
                    <tr>
                        <td style="font-weight: bold; color: #555555;">Seats</td>
                        <td>{{ reservation.seats }}</td>
                    </tr>
                    <tr>
                        <td style="font-weight: bold; color: #555555;">Transport</td>
                        <td>{{ reservation.transport ? reservation.transport.type : 'Not specified' }}</td>
                    </tr>
                    <tr>
                        <td style="font-weight: bold; color: #555555;">Payment Mode</td>
                        <td>{{ reservation.paymentMode }}</td>
                    </tr>
                </table>
            </div>
        </td>
    </tr>
    
    <!-- QR Code -->
    <tr>
        <td style="padding: 10px 20px 20px 20px; text-align: center;">
            <p style="font-size: 14px; color: #666666; margin-bottom: 15px;">Scan this QR code to access your ticket:</p>
            <img src="{{ qrCode }}" alt="Reservation QR Code" style="max-width: 200px; border: 1px solid #e0e0e0; padding: 10px; background: #ffffff;">
        </td>
    </tr>
    
    <!-- Footer -->
    <tr>
        <td style="padding: 20px; background-color: #f8f9fa; text-align: center; font-size: 14px; color: #666666;">
            <p>Thank you for choosing our service!</p>
            <p>If you have any questions, please contact our support team.</p>
        </td>
    </tr>
</table>
{% endblock %}