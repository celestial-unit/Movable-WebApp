<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.control.Label?>
<?import javafx.collections.FXCollections?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.paint.LinearGradient?>
<?import javafx.scene.paint.Stop?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.ColumnConstraints?>

<?import java.lang.String?>
<StackPane xmlns="http://javafx.com/javafx/21"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="Controllers.ReclamationController"
           styleClass="root-container">

    <stylesheets>
        <String fx:value="/styles/app.css"/>
    </stylesheets>

    <!-- Background Gradient -->
    <Rectangle width="2000" height="2000">
        <fill>
            <LinearGradient endX="1.0" endY="1.0">
                <stops>
                    <Stop color="#1a2a6c" offset="0.0" />
                    <Stop color="#b21f1f" offset="0.5" />
                    <Stop color="#fdbb2d" offset="1.0" />
                </stops>
            </LinearGradient>
        </fill>
    </Rectangle>

    <!-- Main Content -->
    <BorderPane styleClass="dashboard-container">
        <!-- Top Navigation Bar -->
        <top>
            <HBox spacing="15" alignment="CENTER_LEFT" styleClass="nav-bar">
                <padding>
                    <Insets top="15" right="25" bottom="15" left="25" />
                </padding>
                
                <Button fx:id="backToUserDashboardBtn" text="Back to Dashboard" 
                        styleClass="nav-button"
                        onAction="#goBackToUserDashboard">
                    <graphic>
                        <ImageView fitHeight="18" fitWidth="18">
                            <Image url="@/images/back-icon.png" />
                        </ImageView>
                    </graphic>
                </Button>
                
                <Label text="Reclamations" styleClass="page-title" />
            </HBox>
        </top>
        
        <center>
            <VBox spacing="30" styleClass="content-container">
                <padding>
                    <Insets top="20" right="40" bottom="40" left="40" />
                </padding>

                <!-- Reclamation Form Card -->
                <VBox spacing="20" styleClass="card">
                    <effect>
                        <DropShadow color="#00000066" radius="15" spread="0.05" />
                    </effect>
                    
                    <HBox alignment="CENTER_LEFT" styleClass="card-header">
                        <ImageView fitHeight="32" fitWidth="32">
                            <Image url="@/reclamation-icon.png" />
                        </ImageView>
                        <Label text="Submit New Reclamation" styleClass="card-title"/>
                    </HBox>
                    
                    <VBox spacing="15" styleClass="card-content">
                        <Label text="Please provide details about your issue" styleClass="card-subtitle"/>
                        
                        <GridPane hgap="10" vgap="15">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="100" />
                            </columnConstraints>
                            
                            <Label text="Title" styleClass="form-label" GridPane.rowIndex="0" />
                            <TextField fx:id="titleTf" promptText="Enter a descriptive title" 
                                      styleClass="form-field" GridPane.rowIndex="1" />
                            
                            <Label text="Description" styleClass="form-label" GridPane.rowIndex="2" />
                            <TextArea fx:id="descriptionTf" promptText="Provide detailed information about your issue" 
                                     styleClass="form-field, text-area" prefHeight="120" wrapText="true"
                                     GridPane.rowIndex="3" />
                        </GridPane>
                        
                        <HBox alignment="CENTER_RIGHT" spacing="10">
                            <Button text="Clear" styleClass="secondary-button" />
                            <Button text="Submit Reclamation" styleClass="primary-button"
                                   onAction="#handleSubmitReclamation">
                                <graphic>
                                    <ImageView fitHeight="16" fitWidth="16">
                                        <Image url="@/images/submit-icon.png" />
                                    </ImageView>
                                </graphic>
                            </Button>
                        </HBox>
                    </VBox>
                </VBox>

                <!-- Reclamation List Card -->
                <VBox spacing="20" styleClass="card" VBox.vgrow="ALWAYS">
                    <effect>
                        <DropShadow color="#00000066" radius="15" spread="0.05" />
                    </effect>
                    
                    <HBox alignment="CENTER_LEFT" styleClass="card-header">
                        <ImageView fitHeight="32" fitWidth="32">
                            <Image url="@/images/reclamation-icon.png" />
                        </ImageView>
                        <Label text="My Reclamations" styleClass="card-title"/>
                    </HBox>
                    
                    <VBox spacing="10" styleClass="card-content" VBox.vgrow="ALWAYS">
                        <Label text="Your submitted reclamations" styleClass="card-subtitle"/>
                        <ListView fx:id="reclamationsListView" styleClass="modern-list-view" VBox.vgrow="ALWAYS">
                            <items>
                                <FXCollections fx:factory="observableArrayList"/>
                            </items>
                        </ListView>
                        
                        <HBox alignment="CENTER_RIGHT" spacing="10">
                            <Button text="Refresh" styleClass="secondary-button">
                                <graphic>
                                    <ImageView fitHeight="16" fitWidth="16">
                                        <Image url="@/images/refresh-icon.png" />
                                    </ImageView>
                                </graphic>
                            </Button>
                        </HBox>
                    </VBox>
                </VBox>
            </VBox>
        </center>
    </BorderPane>
</StackPane>
