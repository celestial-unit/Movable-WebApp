<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.collections.FXCollections?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.VBox?>

<AnchorPane prefHeight="620.0" prefWidth="972.0" style="-fx-background-image: url('img/background.jpg'); -fx-background-size: cover; -fx-background-position: center;" stylesheets="@style1.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="Controllers.UserSideAssistanceAgentController">

    <children>
        <!-- Sidebar (Office & Assistant Selection) -->
        <AnchorPane layoutY="3.0" prefHeight="620" prefWidth="260" style="-fx-background-color: #e3f2fd; -fx-border-color: #90caf9; -fx-border-width: 1px; -fx-border-radius: 10px; -fx-padding: 10px; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 5);">
            <Label layoutX="20.0" layoutY="20.0" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #333;" text="Select Agent" />

            <!-- ComboBox for Office -->
            <ComboBox fx:id="officeComboBox" layoutX="20.0" layoutY="80.0" prefWidth="220.0" promptText="Select Office">
                <items>
                    <FXCollections fx:factory="observableArrayList" />
                </items>
            </ComboBox>

            <!-- ComboBox for Assistant -->
            <ComboBox fx:id="assistantComboBox" layoutX="20.0" layoutY="130.0" prefWidth="220.0" promptText="Select Assistant">
                <items>
                    <FXCollections fx:factory="observableArrayList" />
                </items>
            </ComboBox>

            <!-- View Details Button -->
            <Button fx:id="viewDetailsButton" layoutX="55.0" layoutY="190.0" onAction="#viewAgentDetails" prefWidth="150.0" style="-fx-background-color: #ff7043; -fx-text-fill: white; -fx-font-weight: bold; -fx-border-radius: 5px;" text="View Details" />

            <!-- Track in Real Time Button -->
            <Button fx:id="TrackButton" layoutX="55.0" layoutY="450.0" onAction="#TruckButton" prefHeight="41.0" prefWidth="186.0" style="-fx-background-color: #42a5f5; -fx-text-fill: white; -fx-font-weight: bold; -fx-border-radius: 5px;" text="Track in Real Time" />
            
            <!-- Back to Dashboard Button -->
            <Button fx:id="backToDashboardButton" layoutX="55.0" layoutY="510.0" onAction="#backToDashboard" prefHeight="41.0" prefWidth="186.0" style="-fx-background-color: #34495e; -fx-text-fill: white; -fx-font-weight: bold; -fx-border-radius: 5px; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.2), 5, 0, 0, 1);" text="Back to Dashboard" />
        </AnchorPane>

        <!-- Main Content Area -->
        <ScrollPane fitToHeight="true" fitToWidth="true" hbarPolicy="NEVER" layoutX="270.0" layoutY="3.0" prefHeight="620" prefWidth="700" vbarPolicy="ALWAYS">
            <content>
                <AnchorPane prefHeight="618.0" prefWidth="666.0" style="-fx-background-color: white; -fx-border-color: #90caf9; -fx-border-width: 1px; -fx-border-radius: 10px; -fx-padding: 20px; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 5);">

                    <ImageView fx:id="assistantImage" fitHeight="140.0" fitWidth="140.0" layoutX="270.0" layoutY="30.0" preserveRatio="true" style="-fx-border-radius: 70px; -fx-border-color: #90caf9; -fx-border-width: 2px; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.3), 10, 0, 0, 5);" />

                    <Label fx:id="nameLabel" layoutX="200.0" layoutY="190.0" prefWidth="300.0" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" text="Full Name: " />

                    <Label fx:id="emailLabel" layoutX="200.0" layoutY="230.0" prefWidth="300.0" style="-fx-font-size: 16px; -fx-text-fill: #555;" text="Email: " />

                    <Label fx:id="typeLabel" layoutX="200.0" layoutY="270.0" prefWidth="300.0" style="-fx-font-size: 16px; -fx-text-fill: #555;" text="Type: " />

                    <Label fx:id="phoneLabel" layoutX="200.0" layoutY="310.0" prefWidth="300.0" style="-fx-font-size: 16px; -fx-text-fill: #555;" text="Phone: " />

                    <Label fx:id="birthdateLabel" layoutX="200.0" layoutY="350.0" prefWidth="300.0" style="-fx-font-size: 16px; -fx-text-fill: #555;" text="Birthdate: " />

                    <Button fx:id="rateAgentButton" layoutX="480.0" layoutY="285.0" onAction="#rateAgent" prefWidth="150.0" style="-fx-background-color: #ff7043; -fx-text-fill: white; -fx-font-weight: bold; -fx-border-radius: 5px;" text="Rate Agent" />

                    <Button fx:id="ViewCalendar" layoutX="480.0" layoutY="340.0" onAction="#ViewCalendar" prefWidth="150.0" style="-fx-background-color: #42a5f5; -fx-text-fill: white; -fx-font-weight: bold; -fx-border-radius: 5px;" text="View Calendar" />

                    <VBox fx:id="ratingsVBox" layoutX="200.0" layoutY="480.0" prefWidth="280.0" spacing="10.0" style="-fx-background-color: rgb(187,222,251); -fx-padding: 15px; -fx-border-radius: 10px; -fx-background-radius: 10px; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.2), 8, 0, 0, 4);">
                        <!-- Ratings will be dynamically added here -->
                    </VBox>

                </AnchorPane>
            </content>
        </ScrollPane>
    </children>
</AnchorPane>
